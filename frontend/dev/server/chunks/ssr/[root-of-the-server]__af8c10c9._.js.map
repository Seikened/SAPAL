{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 14, "column": 0}, "map": {"version":3,"sources":["file:///Users/ferleon/Github/SAPAL/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\nimport { twMerge } from 'tailwind-merge'\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,oOAAO,EAAC,IAAA,8LAAI,EAAC;AACtB","debugId":null}},
    {"offset": {"line": 29, "column": 0}, "map": {"version":3,"sources":["file:///Users/ferleon/Github/SAPAL/components/ui/card.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Card({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        'bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        '@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn('leading-none font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        'col-start-2 row-span-2 row-start-1 self-start justify-self-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn('px-6', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn('flex items-center px-6 [.border-t]:pt-6', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,6WAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6WAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,6WAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,6WAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6WAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,6WAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6WAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 131, "column": 0}, "map": {"version":3,"sources":["file:///Users/ferleon/Github/SAPAL/lib/api.ts"],"sourcesContent":["// lib/api.ts\nexport const API = process.env.NEXT_PUBLIC_API_URL ?? '';\n\nexport type KPIResponse = {\n  ts: string;\n  eficiencia: number;\n  tiempo_decision_min: number;\n  uso_datos_pct: number;\n  sectores_en_riesgo: number;\n};\n\nexport type SectorItem = {\n  id: number;\n  nombre: string;\n  estado: 'normal' | 'alerta' | 'critico';\n  eficiencia: number;\n  presion_psi: number;\n  alertas_abiertas: number;\n  tendencia: number[];\n};\n\nexport type SectorsResponse = { items: SectorItem[] };\n\nexport type AlertItem = {\n  id: number;\n  nivel: 'alta' | 'media' | 'baja';\n  titulo: string;\n  resumen: string;\n  impacto_m3_mes: number | null;\n  recomendacion: string;\n  sector_id: number;\n  created_at: string;\n  estado: 'abierta' | 'atendida' | 'escalada';\n  explicacion: Record<string, unknown> | null;\n};\nexport type AlertsResponse = { items: AlertItem[] };\n\nexport async function apiGet<T>(path: string, init?: RequestInit): Promise<T> {\n  const res = await fetch(path.startsWith('http') ? path : `${API}${path}`, {\n    cache: 'no-store',\n    ...init,\n  });\n  if (!res.ok) throw new Error(`${res.status} ${res.statusText}`);\n  return res.json() as Promise<T>;\n}\n\nexport async function ackAlert(id: number, pin = '2131', nota?: string) {\n  const res = await fetch(`${API}/sim/alerts/${id}/ack`, {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify({ pin, nota }),\n  });\n  if (!res.ok) throw new Error(`${res.status} ${res.statusText}`);\n  return res.json();\n}"],"names":[],"mappings":"AAAA,aAAa;;;;;;;;;AACN,MAAM,MAAM,6DAAmC;AAoC/C,eAAe,OAAU,IAAY,EAAE,IAAkB;IAC9D,MAAM,MAAM,MAAM,MAAM,KAAK,UAAU,CAAC,UAAU,OAAO,GAAG,MAAM,MAAM,EAAE;QACxE,OAAO;QACP,GAAG,IAAI;IACT;IACA,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM,GAAG,IAAI,MAAM,CAAC,CAAC,EAAE,IAAI,UAAU,EAAE;IAC9D,OAAO,IAAI,IAAI;AACjB;AAEO,eAAe,SAAS,EAAU,EAAE,MAAM,MAAM,EAAE,IAAa;IACpE,MAAM,MAAM,MAAM,MAAM,GAAG,IAAI,YAAY,EAAE,GAAG,IAAI,CAAC,EAAE;QACrD,QAAQ;QACR,SAAS;YAAE,gBAAgB;QAAmB;QAC9C,MAAM,KAAK,SAAS,CAAC;YAAE;YAAK;QAAK;IACnC;IACA,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM,GAAG,IAAI,MAAM,CAAC,CAAC,EAAE,IAAI,UAAU,EAAE;IAC9D,OAAO,IAAI,IAAI;AACjB","debugId":null}},
    {"offset": {"line": 167, "column": 0}, "map": {"version":3,"sources":["file:///Users/ferleon/Github/SAPAL/components/dashboard-header.tsx"],"sourcesContent":["// components/dashboard-header.tsx\nimport { Card } from \"@/components/ui/card\";\nimport { Activity, Clock, Database, AlertTriangle } from \"lucide-react\";\nimport { apiGet, KPIResponse } from \"@/lib/api\";\n\nexport async function DashboardHeader() {\n  const kpis = await apiGet<KPIResponse>(\"/sim/kpis/current\");\n  const fmtPct = (x: number) => `${(x * 100).toFixed(1)}%`;\n\n  const statusEfic = kpis.eficiencia >= 0.85 ? \"success\" : kpis.eficiencia >= 0.75 ? \"warning\" : \"destructive\";\n  const statusUso = kpis.uso_datos_pct >= 0.7 ? \"success\" : \"warning\";\n  const statusRiesgo = kpis.sectores_en_riesgo > 5 ? \"destructive\" : kpis.sectores_en_riesgo > 0 ? \"warning\" : \"success\";\n  const color = (s: \"success\" | \"warning\" | \"destructive\") =>\n    s === \"success\" ? \"text-success\" : s === \"warning\" ? \"text-warning\" : \"text-destructive\";\n\n  return (\n    <header className=\"sticky top-0 z-50 border-b bg-card shadow-sm\">\n      <div className=\"container mx-auto px-4 py-4\">\n        <div className=\"mb-4 flex items-center justify-between\">\n          <div>\n            <h1 className=\"font-heading text-2xl font-semibold tracking-tight text-foreground\">\n              Sistema de Agua Potable - León\n            </h1>\n            <p className=\"text-sm text-muted-foreground mt-0.5\">Dashboard Operativo</p>\n          </div>\n          <div className=\"text-right\">\n            <p className=\"text-xs text-muted-foreground uppercase tracking-wide\">Última actualización</p>\n            <p className=\"text-sm font-medium tabular-nums mt-0.5\">\n              {new Date(kpis.ts).toLocaleTimeString(\"es-MX\")}\n            </p>\n          </div>\n        </div>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n          <Card className=\"p-4\">\n            <div className=\"flex items-start justify-between\">\n              <div>\n                <p className=\"text-xs font-medium text-muted-foreground uppercase tracking-wide mb-2\">Eficiencia Actual</p>\n                <p className={`text-3xl font-bold tabular-nums leading-none ${color(statusEfic)}`}>\n                  {fmtPct(kpis.eficiencia)}\n                </p>\n                <p className=\"text-xs text-muted-foreground mt-2\">Inyección / Consumo</p>\n              </div>\n              <Activity className={`h-8 w-8 ${color(statusEfic)}`} />\n            </div>\n          </Card>\n\n          <Card className=\"p-4\">\n            <div className=\"flex items-start justify-between\">\n              <div>\n                <p className=\"text-xs font-medium text-muted-foreground uppercase tracking-wide mb-2\">Tiempo de Decisión</p>\n                <p className={`text-3xl font-bold tabular-nums leading-none text-success`}>\n                  {kpis.tiempo_decision_min} min\n                </p>\n                <p className=\"text-xs text-muted-foreground mt-2\">Promedio últimas 24h</p>\n              </div>\n              <Clock className={`h-8 w-8 text-success`} />\n            </div>\n          </Card>\n\n          <Card className=\"p-4\">\n            <div className=\"flex items-start justify-between\">\n              <div>\n                <p className=\"text-xs font-medium text-muted-foreground uppercase tracking-wide mb-2\">Uso de Datos</p>\n                <p className={`text-3xl font-bold tabular-nums leading-none ${color(statusUso)}`}>\n                  {fmtPct(kpis.uso_datos_pct)}\n                </p>\n                <p className=\"text-xs text-muted-foreground mt-2\">Decisiones basadas en datos</p>\n              </div>\n              <Database className={`h-8 w-8 ${color(statusUso)}`} />\n            </div>\n          </Card>\n\n          <Card className=\"p-4\">\n            <div className=\"flex items-start justify-between\">\n              <div>\n                <p className=\"text-xs font-medium text-muted-foreground uppercase tracking-wide mb-2\">Sectores en Riesgo</p>\n                <p className={`text-3xl font-bold tabular-nums leading-none ${color(statusRiesgo)}`}>\n                  {kpis.sectores_en_riesgo}\n                </p>\n                <p className=\"text-xs text-muted-foreground mt-2\">Requieren atención</p>\n              </div>\n              <AlertTriangle className={`h-8 w-8 ${color(statusRiesgo)}`} />\n            </div>\n          </Card>\n        </div>\n      </div>\n    </header>\n  );\n}"],"names":[],"mappings":"AAAA,kCAAkC;;;;;;AAClC;AACA;AAAA;AAAA;AAAA;AACA;;;;;AAEO,eAAe;IACpB,MAAM,OAAO,MAAM,IAAA,oHAAM,EAAc;IACvC,MAAM,SAAS,CAAC,IAAc,GAAG,CAAC,IAAI,GAAG,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC;IAExD,MAAM,aAAa,KAAK,UAAU,IAAI,OAAO,YAAY,KAAK,UAAU,IAAI,OAAO,YAAY;IAC/F,MAAM,YAAY,KAAK,aAAa,IAAI,MAAM,YAAY;IAC1D,MAAM,eAAe,KAAK,kBAAkB,GAAG,IAAI,gBAAgB,KAAK,kBAAkB,GAAG,IAAI,YAAY;IAC7G,MAAM,QAAQ,CAAC,IACb,MAAM,YAAY,iBAAiB,MAAM,YAAY,iBAAiB;IAExE,qBACE,6WAAC;QAAO,WAAU;kBAChB,cAAA,6WAAC;YAAI,WAAU;;8BACb,6WAAC;oBAAI,WAAU;;sCACb,6WAAC;;8CACC,6WAAC;oCAAG,WAAU;8CAAqE;;;;;;8CAGnF,6WAAC;oCAAE,WAAU;8CAAuC;;;;;;;;;;;;sCAEtD,6WAAC;4BAAI,WAAU;;8CACb,6WAAC;oCAAE,WAAU;8CAAwD;;;;;;8CACrE,6WAAC;oCAAE,WAAU;8CACV,IAAI,KAAK,KAAK,EAAE,EAAE,kBAAkB,CAAC;;;;;;;;;;;;;;;;;;8BAK5C,6WAAC;oBAAI,WAAU;;sCACb,6WAAC,iIAAI;4BAAC,WAAU;sCACd,cAAA,6WAAC;gCAAI,WAAU;;kDACb,6WAAC;;0DACC,6WAAC;gDAAE,WAAU;0DAAyE;;;;;;0DACtF,6WAAC;gDAAE,WAAW,CAAC,6CAA6C,EAAE,MAAM,aAAa;0DAC9E,OAAO,KAAK,UAAU;;;;;;0DAEzB,6WAAC;gDAAE,WAAU;0DAAqC;;;;;;;;;;;;kDAEpD,6WAAC,0SAAQ;wCAAC,WAAW,CAAC,QAAQ,EAAE,MAAM,aAAa;;;;;;;;;;;;;;;;;sCAIvD,6WAAC,iIAAI;4BAAC,WAAU;sCACd,cAAA,6WAAC;gCAAI,WAAU;;kDACb,6WAAC;;0DACC,6WAAC;gDAAE,WAAU;0DAAyE;;;;;;0DACtF,6WAAC;gDAAE,WAAW,CAAC,yDAAyD,CAAC;;oDACtE,KAAK,mBAAmB;oDAAC;;;;;;;0DAE5B,6WAAC;gDAAE,WAAU;0DAAqC;;;;;;;;;;;;kDAEpD,6WAAC,iSAAK;wCAAC,WAAW,CAAC,oBAAoB,CAAC;;;;;;;;;;;;;;;;;sCAI5C,6WAAC,iIAAI;4BAAC,WAAU;sCACd,cAAA,6WAAC;gCAAI,WAAU;;kDACb,6WAAC;;0DACC,6WAAC;gDAAE,WAAU;0DAAyE;;;;;;0DACtF,6WAAC;gDAAE,WAAW,CAAC,6CAA6C,EAAE,MAAM,YAAY;0DAC7E,OAAO,KAAK,aAAa;;;;;;0DAE5B,6WAAC;gDAAE,WAAU;0DAAqC;;;;;;;;;;;;kDAEpD,6WAAC,0SAAQ;wCAAC,WAAW,CAAC,QAAQ,EAAE,MAAM,YAAY;;;;;;;;;;;;;;;;;sCAItD,6WAAC,iIAAI;4BAAC,WAAU;sCACd,cAAA,6WAAC;gCAAI,WAAU;;kDACb,6WAAC;;0DACC,6WAAC;gDAAE,WAAU;0DAAyE;;;;;;0DACtF,6WAAC;gDAAE,WAAW,CAAC,6CAA6C,EAAE,MAAM,eAAe;0DAChF,KAAK,kBAAkB;;;;;;0DAE1B,6WAAC;gDAAE,WAAU;0DAAqC;;;;;;;;;;;;kDAEpD,6WAAC,6TAAa;wCAAC,WAAW,CAAC,QAAQ,EAAE,MAAM,eAAe;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOxE","debugId":null}},
    {"offset": {"line": 501, "column": 0}, "map": {"version":3,"sources":["file:///Users/ferleon/Github/SAPAL/components/sector-grid.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const SectorGrid = registerClientReference(\n    function() { throw new Error(\"Attempted to call SectorGrid() from the server but SectorGrid is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/sector-grid.tsx <module evaluation>\",\n    \"SectorGrid\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,aAAa,IAAA,uYAAuB,EAC7C;IAAa,MAAM,IAAI,MAAM;AAAoO,GACjQ,4DACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 515, "column": 0}, "map": {"version":3,"sources":["file:///Users/ferleon/Github/SAPAL/components/sector-grid.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const SectorGrid = registerClientReference(\n    function() { throw new Error(\"Attempted to call SectorGrid() from the server but SectorGrid is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/sector-grid.tsx\",\n    \"SectorGrid\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,aAAa,IAAA,uYAAuB,EAC7C;IAAa,MAAM,IAAI,MAAM;AAAoO,GACjQ,wCACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 529, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 537, "column": 0}, "map": {"version":3,"sources":["file:///Users/ferleon/Github/SAPAL/components/alerts-panel.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const AlertsPanel = registerClientReference(\n    function() { throw new Error(\"Attempted to call AlertsPanel() from the server but AlertsPanel is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/alerts-panel.tsx <module evaluation>\",\n    \"AlertsPanel\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,cAAc,IAAA,uYAAuB,EAC9C;IAAa,MAAM,IAAI,MAAM;AAAsO,GACnQ,6DACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 551, "column": 0}, "map": {"version":3,"sources":["file:///Users/ferleon/Github/SAPAL/components/alerts-panel.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const AlertsPanel = registerClientReference(\n    function() { throw new Error(\"Attempted to call AlertsPanel() from the server but AlertsPanel is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/alerts-panel.tsx\",\n    \"AlertsPanel\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,cAAc,IAAA,uYAAuB,EAC9C;IAAa,MAAM,IAAI,MAAM;AAAsO,GACnQ,yCACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 565, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 573, "column": 0}, "map": {"version":3,"sources":["file:///Users/ferleon/Github/SAPAL/app/page.tsx"],"sourcesContent":["// app/page.tsx\nimport { DashboardHeader } from \"@/components/dashboard-header\";\nimport { SectorGrid } from \"@/components/sector-grid\";\nimport { AlertsPanel } from \"@/components/alerts-panel\";\n\nexport default function DashboardPage() {\n  return (\n    <div className=\"min-h-screen bg-background\">\n      <DashboardHeader />\n      <main className=\"container mx-auto p-4 pt-6\">\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n          <div className=\"lg:col-span-2\">\n            <SectorGrid />\n          </div>\n          <div className=\"lg:col-span-1\">\n            <AlertsPanel />\n          </div>\n        </div>\n      </main>\n    </div>\n  );\n}"],"names":[],"mappings":"AAAA,eAAe;;;;;;AACf;AACA;AACA;;;;;AAEe,SAAS;IACtB,qBACE,6WAAC;QAAI,WAAU;;0BACb,6WAAC,qJAAe;;;;;0BAChB,6WAAC;gBAAK,WAAU;0BACd,cAAA,6WAAC;oBAAI,WAAU;;sCACb,6WAAC;4BAAI,WAAU;sCACb,cAAA,6WAAC,2IAAU;;;;;;;;;;sCAEb,6WAAC;4BAAI,WAAU;sCACb,cAAA,6WAAC,6IAAW;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMxB","debugId":null}}]
}